Title: RESTful API with flask
Date: 2012/12/20 00:32
Author: Ken Ko
Tags: writeup, flask, rest, web, python
Category: tutorials

Creating a mod_wsgi/python2.7 application, the autogenerated files are:

<pre>
<code>
    htdocs
    |_ index.py
    apache
    |_ stuff
    |_ more stuff
</code>
</pre>

Replace the contents of <em>index.py</em> with:

<pre>
<code>
    1 import sys
    2 MYAPP = '/path/to/webapps/APPNAME/htdocs'
    3 if not wishapp in sys.path:
    4     sys.path.insert(0, MYAPP)
    5 
    6 from MYAPP import app as application
    7 
</code>
</pre>

In /path/to/webapps/APPNAME/htdocs, create a parallel file 
*MYAPP.py*. In here, you'll have something similar
to the following:

<pre>
<code>
    1 from flask import Flask
    2 app = Flask(__name__)
    3 
    4 
    5 @app.route('/')
    6 def hellow_world():
    7     return 'Hello World!'
    8 
    9 @app.route('/api/wish/list')
    10 def api_wish_list():
    11     return 'api/wish/list'
    12 
    13 @app.route('/api/wish/add/<path:wishstr>')
    14 def api_wish_add(wishstr):
    15     return 'api/wish/add/' + wishstr
    16 
    17 if __name__ == '__main__':
    18     app.run()
</code>
</pre>

This should be sufficient for the start of a POC. 
I'll add database and authentication handling when I get ready to
cross that bridge.
